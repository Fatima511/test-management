<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Inherit the project.project form view to add smart buttons -->
    <record id="view_project_form_inherit" model="ir.ui.view">
        <field name="name">project.project.form.inherit</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.edit_project"/>
        <field name="arch" type="xml">
            <!-- Add smart buttons to the header -->
            <xpath expr="//div" position="inside">
                    <!-- Bug Smart Button -->
                    <button
                        name="action_view_bugs"
                        type="object"
                        class="oe_stat_button"
                        icon="fa-bug"
                        invisible="bug_count==0">
                        <field name="bug_count" widget="statinfo" string="Bugs"/>
                    </button>
                    <!-- Test Case Smart Button -->
                    <button
                        name="action_view_test_cases"
                        type="object"
                        class="oe_stat_button"
                        icon="fa-check-square-o"
                        invisible="test_case_count==0">
                        <field name="test_case_count" widget="statinfo" string="Test Cases"/>
                    </button>
            </xpath>
        </field>
    </record>
    <record id="action_project_project_inherited" model="ir.actions.act_window">
        <field name="name">Projects</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new project
            </p>
        </field>
    </record>
</odoo>
